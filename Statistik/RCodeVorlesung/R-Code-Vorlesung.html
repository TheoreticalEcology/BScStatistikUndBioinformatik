<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Florian Hartig">

<title>R Code der Vorlesung BSc Statistik und Bioinformatik</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="R-Code-Vorlesung_files/libs/clipboard/clipboard.min.js"></script>
<script src="R-Code-Vorlesung_files/libs/quarto-html/quarto.js"></script>
<script src="R-Code-Vorlesung_files/libs/quarto-html/popper.min.js"></script>
<script src="R-Code-Vorlesung_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="R-Code-Vorlesung_files/libs/quarto-html/anchor.min.js"></script>
<link href="R-Code-Vorlesung_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="R-Code-Vorlesung_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="R-Code-Vorlesung_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="R-Code-Vorlesung_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="R-Code-Vorlesung_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#woche-1---univariate-deskriptive-statistik" id="toc-woche-1---univariate-deskriptive-statistik" class="nav-link active" data-scroll-target="#woche-1---univariate-deskriptive-statistik">Woche 1 - Univariate deskriptive Statistik</a>
  <ul class="collapse">
  <li><a href="#einführung-r" id="toc-einführung-r" class="nav-link" data-scroll-target="#einführung-r">Einführung R</a></li>
  <li><a href="#ihre-daten" id="toc-ihre-daten" class="nav-link" data-scroll-target="#ihre-daten">Ihre Daten</a></li>
  <li><a href="#kategorisch-ungeordnet" id="toc-kategorisch-ungeordnet" class="nav-link" data-scroll-target="#kategorisch-ungeordnet">Kategorisch ungeordnet</a></li>
  <li><a href="#numerische-variablen" id="toc-numerische-variablen" class="nav-link" data-scroll-target="#numerische-variablen">numerische Variablen</a></li>
  <li><a href="#kategorisch-geordnet-ordinal" id="toc-kategorisch-geordnet-ordinal" class="nav-link" data-scroll-target="#kategorisch-geordnet-ordinal">kategorisch geordnet / ordinal</a></li>
  </ul></li>
  <li><a href="#woche-2---korrelation-und-assoziation" id="toc-woche-2---korrelation-und-assoziation" class="nav-link" data-scroll-target="#woche-2---korrelation-und-assoziation">Woche 2 - Korrelation und Assoziation</a>
  <ul class="collapse">
  <li><a href="#kat-kat" id="toc-kat-kat" class="nav-link" data-scroll-target="#kat-kat">kat ~ kat</a></li>
  <li><a href="#kat-num" id="toc-kat-num" class="nav-link" data-scroll-target="#kat-num">kat ~ num</a></li>
  <li><a href="#num-num" id="toc-num-num" class="nav-link" data-scroll-target="#num-num">num ~ num</a></li>
  </ul></li>
  <li><a href="#woche-3---hypothesentests" id="toc-woche-3---hypothesentests" class="nav-link" data-scroll-target="#woche-3---hypothesentests">Woche 3 - Hypothesentests</a>
  <ul class="collapse">
  <li><a href="#tests-kategorisch-kategorisch" id="toc-tests-kategorisch-kategorisch" class="nav-link" data-scroll-target="#tests-kategorisch-kategorisch">Tests Kategorisch + kategorisch</a>
  <ul class="collapse">
  <li><a href="#vegetarier-und-verkehrsmittel" id="toc-vegetarier-und-verkehrsmittel" class="nav-link" data-scroll-target="#vegetarier-und-verkehrsmittel">Vegetarier und Verkehrsmittel</a></li>
  <li><a href="#geschlecht-und-vegetarier" id="toc-geschlecht-und-vegetarier" class="nav-link" data-scroll-target="#geschlecht-und-vegetarier">Geschlecht und Vegetarier</a></li>
  </ul></li>
  <li><a href="#test-kategorisch-numerisch" id="toc-test-kategorisch-numerisch" class="nav-link" data-scroll-target="#test-kategorisch-numerisch">Test Kategorisch + Numerisch</a>
  <ul class="collapse">
  <li><a href="#körpergröße-geschlecht" id="toc-körpergröße-geschlecht" class="nav-link" data-scroll-target="#körpergröße-geschlecht">Körpergröße ~ Geschlecht</a></li>
  <li><a href="#körpergröße-händigkeit" id="toc-körpergröße-händigkeit" class="nav-link" data-scroll-target="#körpergröße-händigkeit">Körpergröße ~ Händigkeit</a></li>
  </ul></li>
  <li><a href="#test-numerischnumerisch" id="toc-test-numerischnumerisch" class="nav-link" data-scroll-target="#test-numerischnumerisch">Test Numerisch+Numerisch</a>
  <ul class="collapse">
  <li><a href="#körpergröße-einwohner" id="toc-körpergröße-einwohner" class="nav-link" data-scroll-target="#körpergröße-einwohner">Körpergröße ~ Einwohner</a></li>
  </ul></li>
  <li><a href="#statistische-power" id="toc-statistische-power" class="nav-link" data-scroll-target="#statistische-power">Statistische power</a></li>
  <li><a href="#hypothesentest-selbst-gebaut" id="toc-hypothesentest-selbst-gebaut" class="nav-link" data-scroll-target="#hypothesentest-selbst-gebaut">Hypothesentest selbst gebaut</a></li>
  </ul></li>
  <li><a href="#woche-4---mle-und-regression" id="toc-woche-4---mle-und-regression" class="nav-link" data-scroll-target="#woche-4---mle-und-regression">Woche 4 - MLE und Regression</a>
  <ul class="collapse">
  <li><a href="#num-num-1" id="toc-num-num-1" class="nav-link" data-scroll-target="#num-num-1">num + num</a>
  <ul class="collapse">
  <li><a href="#körpergewicht-körpergröße" id="toc-körpergewicht-körpergröße" class="nav-link" data-scroll-target="#körpergewicht-körpergröße">Körpergewicht ~ Körpergröße</a></li>
  <li><a href="#körpergewicht-einwohner" id="toc-körpergewicht-einwohner" class="nav-link" data-scroll-target="#körpergewicht-einwohner">Körpergewicht ~ Einwohner</a></li>
  </ul></li>
  <li><a href="#num-kat" id="toc-num-kat" class="nav-link" data-scroll-target="#num-kat">num + kat</a></li>
  </ul></li>
  <li><a href="#woche-5---multiple-regression" id="toc-woche-5---multiple-regression" class="nav-link" data-scroll-target="#woche-5---multiple-regression">Woche 5 - Multiple Regression</a>
  <ul class="collapse">
  <li><a href="#dienstag" id="toc-dienstag" class="nav-link" data-scroll-target="#dienstag">Dienstag</a></li>
  <li><a href="#donnerstag" id="toc-donnerstag" class="nav-link" data-scroll-target="#donnerstag">Donnerstag</a>
  <ul class="collapse">
  <li><a href="#beispiel-lrt" id="toc-beispiel-lrt" class="nav-link" data-scroll-target="#beispiel-lrt">Beispiel LRT</a></li>
  <li><a href="#analyse-ihrer-daten" id="toc-analyse-ihrer-daten" class="nav-link" data-scroll-target="#analyse-ihrer-daten">Analyse Ihrer Daten</a></li>
  <li><a href="#körpergewicht-vegetarier" id="toc-körpergewicht-vegetarier" class="nav-link" data-scroll-target="#körpergewicht-vegetarier">Körpergewicht ~ Vegetarier</a></li>
  <li><a href="#körpergewicht-verkehrsmittel" id="toc-körpergewicht-verkehrsmittel" class="nav-link" data-scroll-target="#körpergewicht-verkehrsmittel">Körpergewicht ~ Verkehrsmittel</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">R Code der Vorlesung BSc Statistik und Bioinformatik</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Florian Hartig </p>
          </div>
  </div>
    
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Abstract</div>
    Dieses Dokument fasst den in der Vorlesung live vorgeführten R Code zusammen. Das pdf wird im Laufe der Vorlesung ergänzt. Wichtig: es handelt sich hier um eine Sammlung von Code, nicht um ein Lehrbuch. Insbesondere kann dieses Dokument die in der Vorlesung gegebene mündliche Erklärung der Motivation / Outputs nicht ersetzen. Bezüglich letztere verweise ich auf Ihre Mitschriften, die Vorlesungsunterlagen und das Skript.
  </div>
</div>

</header>

<section id="woche-1---univariate-deskriptive-statistik" class="level1">
<h1>Woche 1 - Univariate deskriptive Statistik</h1>
<section id="einführung-r" class="level2">
<h2 class="anchored" data-anchor-id="einführung-r">Einführung R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.732051</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span>)<span class="sc">*</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="dv">5</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.290994</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Das ist ein Kommentar</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0%  25%  50%  75% 100% 
1.00 1.75 2.50 3.25 4.00 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">=</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">"rot"</span>, <span class="st">"gelb"</span>, <span class="st">"gruen"</span>, <span class="st">"blau"</span>))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">var1 =</span> var1, <span class="at">var2 =</span> var2)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Zugriff über $</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>var1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="ihre-daten" class="level2">
<h2 class="anchored" data-anchor-id="ihre-daten">Ihre Daten</h2>
<p>Für des Einlesen der echten Daten</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>daten <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../Daten/Biostatistik Umfrage 2023.csv"</span>, <span class="at">stringsAsFactors =</span> T, <span class="at">na.strings =</span> <span class="fu">c</span>(<span class="st">""</span>))</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>daten<span class="sc">$</span>Zeitstempel <span class="ot">=</span> <span class="cn">NULL</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(daten) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Einwohner"</span>, <span class="st">"Distanz"</span>, <span class="st">"Körpergröße"</span>, <span class="st">"Körpergewicht"</span>, <span class="st">"Geschlecht"</span>, <span class="st">"Händigkeit"</span>, <span class="st">"Verkehrsmittel"</span>,  <span class="st">"Getränk"</span>, <span class="st">"Vegetarier"</span>,<span class="st">"Studium"</span>, <span class="st">"Zukunft"</span>, <span class="st">"CO2Steuer"</span>, <span class="st">"Parkgebuehr"</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Einwohner          Distanz       Körpergröße    Körpergewicht   
 Min.   :      1   Min.   :    0   Min.   :140.0   Min.   : 48.00  
 1st Qu.:   2000   1st Qu.:   45   1st Qu.:167.0   1st Qu.: 60.00  
 Median :   9044   Median :  107   Median :173.5   Median : 67.00  
 Mean   : 189067   Mean   :  485   Mean   :173.1   Mean   : 68.37  
 3rd Qu.:  80000   3rd Qu.:  170   3rd Qu.:180.0   3rd Qu.: 75.00  
 Max.   :2000000   Max.   :18000   Max.   :195.0   Max.   :120.00  
 NA's   :2         NA's   :2       NA's   :1       NA's   :6       
    Geschlecht        Händigkeit Verkehrsmittel                   Getränk  
 Männlich:31   Linkshänder :10   Auto  :13      Bier                  : 9  
 Weiblich:45   Rechtshänder:68   Bus   :31      Cocktails / Longdrinks: 6  
 NA's    : 3   NA's        : 1   Fahrad:17      Tee                   :25  
                                 Zu Fuß:17      Waser                 :32  
                                 NA's  : 1      Wein                  : 6  
                                                NA's                  : 1  
                                                                           
 Vegetarier   Studium      Zukunft        CO2Steuer      Parkgebuehr   
 Ja  :33    Leicht: 5   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 Nein:45    Mittel:45   1st Qu.:3.000   1st Qu.:2.000   1st Qu.:1.000  
 NA's: 1    Schwer:27   Median :4.000   Median :3.000   Median :1.000  
            NA's  : 2   Mean   :3.423   Mean   :2.883   Mean   :1.744  
                        3rd Qu.:4.000   3rd Qu.:4.000   3rd Qu.:2.000  
                        Max.   :5.000   Max.   :5.000   Max.   :5.000  
                        NA's   :1       NA's   :2       NA's   :1      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>daten <span class="ot">&lt;-</span> missRanger<span class="sc">::</span><span class="fu">missRanger</span>(daten, <span class="at">pmm.k =</span> <span class="dv">3</span>, <span class="at">verbose =</span> <span class="dv">0</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Einwohner          Distanz         Körpergröße  Körpergewicht   
 Min.   :      1   Min.   :    0.0   Min.   :140   Min.   : 48.00  
 1st Qu.:   1950   1st Qu.:   47.5   1st Qu.:167   1st Qu.: 60.00  
 Median :   9044   Median :  107.0   Median :173   Median : 65.00  
 Mean   : 184805   Mean   :  475.5   Mean   :173   Mean   : 67.85  
 3rd Qu.:  76000   3rd Qu.:  170.0   3rd Qu.:180   3rd Qu.: 75.00  
 Max.   :2000000   Max.   :18000.0   Max.   :195   Max.   :120.00  
    Geschlecht        Händigkeit Verkehrsmittel                   Getränk  
 Männlich:31   Linkshänder :10   Auto  :13      Bier                  : 9  
 Weiblich:48   Rechtshänder:69   Bus   :31      Cocktails / Longdrinks: 6  
                                 Fahrad:18      Tee                   :26  
                                 Zu Fuß:17      Waser                 :32  
                                                Wein                  : 6  
                                                                           
 Vegetarier   Studium      Zukunft       CO2Steuer      Parkgebuehr   
 Ja  :33    Leicht: 5   Min.   :1.00   Min.   :1.000   Min.   :1.000  
 Nein:46    Mittel:46   1st Qu.:3.00   1st Qu.:2.000   1st Qu.:1.000  
            Schwer:28   Median :4.00   Median :3.000   Median :1.000  
                        Mean   :3.43   Mean   :2.937   Mean   :1.734  
                        3rd Qu.:4.00   3rd Qu.:4.000   3rd Qu.:2.000  
                        Max.   :5.00   Max.   :5.000   Max.   :5.000  </code></pre>
</div>
</div>
<p>Code für das Einlesen der randomisierten Daten, die als csv File auf GRIPS verfügbar sind (natürlich müssten Sie den Pfad so anpassen, dass es für Ihren Computer passt).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>daten <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"./Biostatistik Umfrage 2023 Randomisiert.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="kategorisch-ungeordnet" class="level2">
<h2 class="anchored" data-anchor-id="kategorisch-ungeordnet">Kategorisch ungeordnet</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Getränk)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x, <span class="at">las =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Verkehrsmittel)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Auto    Bus Fahrad Zu Fuß 
    13     31     18     17 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x, <span class="at">las =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-5-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Geschlecht)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Männlich Weiblich 
      31       48 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x, <span class="at">las =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-5-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Händigkeit)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Linkshänder Rechtshänder 
          10           69 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x, <span class="at">las =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-5-5.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Vegetarier)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Ja Nein 
  33   46 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x, <span class="at">las =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-5-6.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="numerische-variablen" class="level2">
<h2 class="anchored" data-anchor-id="numerische-variablen">numerische Variablen</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(daten<span class="sc">$</span>Distanz, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">log10</span>(daten<span class="sc">$</span>Distanz <span class="sc">+</span> <span class="dv">1</span>), <span class="at">breaks =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(daten<span class="sc">$</span>Distanz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 475.4937</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(daten<span class="sc">$</span>Distanz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 107</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(daten<span class="sc">$</span>Distanz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4901545</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(daten<span class="sc">$</span>Distanz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2213.943</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(daten<span class="sc">$</span>Distanz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     0%     25%     50%     75%    100% 
    0.0    47.5   107.0   170.0 18000.0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(daten<span class="sc">$</span>Distanz, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-6-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> daten<span class="sc">$</span>Einwohner</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      1    1950    9044  184805   76000 2000000 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-6-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(x, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1000000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-6-5.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> daten<span class="sc">$</span>Körpergröße</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    140     167     173     173     180     195 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-6-6.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-6-7.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> daten<span class="sc">$</span>Körpergewicht</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  48.00   60.00   65.00   67.85   75.00  120.00 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-6-8.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-6-9.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="kategorisch-geordnet-ordinal" class="level2">
<h2 class="anchored" data-anchor-id="kategorisch-geordnet-ordinal">kategorisch geordnet / ordinal</h2>
<p>Können wir entweder kategorisch oder numerisch behandeln</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Parkgebuehr)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(daten<span class="sc">$</span>Parkgebuehr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.734177</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Studium)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-7-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Zukunft)</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-7-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>CO2Steuer)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-7-4.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="woche-2---korrelation-und-assoziation" class="level1">
<h1>Woche 2 - Korrelation und Assoziation</h1>
<section id="kat-kat" class="level2">
<h2 class="anchored" data-anchor-id="kat-kat">kat ~ kat</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Geschlecht, daten<span class="sc">$</span>Vegetarier)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          
           Ja Nein
  Männlich 11   20
  Weiblich 22   26</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">t</span>(x), <span class="at">beside =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x, <span class="at">beside =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mosaicplot</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-8-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Geschlecht, daten<span class="sc">$</span>Getränk)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          
           Bier Cocktails / Longdrinks Tee Waser Wein
  Männlich    6                      2   5    14    4
  Weiblich    3                      4  21    18    2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x, <span class="at">beside =</span> T, <span class="at">las =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-8-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Geschlecht, daten<span class="sc">$</span>Verkehrsmittel)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          
           Auto Bus Fahrad Zu Fuß
  Männlich    8  11      6      6
  Weiblich    5  20     12     11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x, <span class="at">beside =</span> T, <span class="at">las =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-8-5.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mosaicplot</span>(<span class="fu">t</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-8-6.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Geschlecht, daten<span class="sc">$</span>Studium)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          
           Leicht Mittel Schwer
  Männlich      4     20      7
  Weiblich      1     26     21</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">t</span>(x), <span class="at">beside =</span> T, <span class="at">las =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-8-7.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mosaicplot</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-8-8.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="kat-num" class="level2">
<h2 class="anchored" data-anchor-id="kat-num">kat ~ num</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Körpergewicht <span class="sc">~</span> Geschlecht, <span class="at">data =</span> daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Körpergröße <span class="sc">~</span> Geschlecht, <span class="at">data =</span> daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Körpergewicht <span class="sc">~</span> Getränk, <span class="at">data =</span> daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-9-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Körpergewicht <span class="sc">~</span> Vegetarier, <span class="at">data =</span> daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-9-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Körpergröße <span class="sc">~</span> Verkehrsmittel, <span class="at">data =</span> daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-9-5.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(CO2Steuer <span class="sc">~</span> Verkehrsmittel, <span class="at">data =</span> daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-9-6.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Parkgebuehr <span class="sc">~</span> Verkehrsmittel, <span class="at">data =</span> daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-9-7.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="num-num" class="level2">
<h2 class="anchored" data-anchor-id="num-num">num ~ num</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(daten<span class="sc">$</span>Körpergröße, daten<span class="sc">$</span>Körpergewicht)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(daten<span class="sc">$</span>Körpergröße, daten<span class="sc">$</span>Körpergewicht)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3280615</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(daten<span class="sc">$</span>Körpergröße, daten<span class="sc">$</span>Körpergewicht, <span class="at">method =</span> <span class="st">"spearman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5714766</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>sel <span class="ot">=</span> daten<span class="sc">$</span>Körpergröße <span class="sc">&gt;</span> <span class="dv">150</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(daten<span class="sc">$</span>Körpergröße[sel], daten<span class="sc">$</span>Körpergewicht[sel])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6366131</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(daten<span class="sc">$</span>Körpergröße[sel], daten<span class="sc">$</span>Körpergewicht[sel], <span class="at">method =</span> <span class="st">"spearman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6328823</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">log10</span>(daten<span class="sc">$</span>Einwohner<span class="sc">+</span><span class="dv">1</span>), daten<span class="sc">$</span>Körpergröße)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(<span class="fu">log10</span>(daten<span class="sc">$</span>Einwohner<span class="sc">+</span><span class="dv">1</span>), daten<span class="sc">$</span>Körpergröße)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2092077</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(<span class="fu">log10</span>(daten<span class="sc">$</span>Einwohner<span class="sc">+</span><span class="dv">1</span>), daten<span class="sc">$</span>Körpergröße, <span class="at">method =</span> <span class="st">"spearman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.05173744</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">log10</span>(daten<span class="sc">$</span>Einwohner<span class="sc">+</span><span class="dv">1</span>), daten<span class="sc">$</span>Körpergewicht)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-10-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(<span class="fu">log10</span>(daten<span class="sc">$</span>Einwohner<span class="sc">+</span><span class="dv">1</span>), daten<span class="sc">$</span>Körpergewicht)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.1793981</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(<span class="fu">log10</span>(daten<span class="sc">$</span>Einwohner<span class="sc">+</span><span class="dv">1</span>), daten<span class="sc">$</span>Körpergewicht, <span class="at">method =</span> <span class="st">"spearman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.07039005</code></pre>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(daten<span class="sc">$</span>Einwohner, daten<span class="sc">$</span>Körpergewicht)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-10-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(daten<span class="sc">$</span>Einwohner, daten<span class="sc">$</span>Körpergewicht)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0523597</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(daten<span class="sc">$</span>Einwohner, daten<span class="sc">$</span>Körpergewicht, <span class="at">method =</span> <span class="st">"spearman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.07039005</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Motivation p-Wert</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">log10</span>(daten<span class="sc">$</span>Einwohner<span class="sc">+</span><span class="dv">1</span>), daten<span class="sc">$</span>Körpergewicht)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-10-5.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(<span class="fu">log10</span>(daten<span class="sc">$</span>Einwohner<span class="sc">+</span><span class="dv">1</span>), daten<span class="sc">$</span>Körpergewicht, <span class="at">method =</span> <span class="st">"spearman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.07039005</code></pre>
</div>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(<span class="fu">rnorm</span>(<span class="dv">80</span>), <span class="fu">rnorm</span>(<span class="dv">80</span>), <span class="at">method =</span> <span class="st">"spearman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.03745898</code></pre>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(<span class="fu">log10</span>(daten<span class="sc">$</span>Einwohner<span class="sc">+</span><span class="dv">1</span>), daten<span class="sc">$</span>Körpergewicht, <span class="at">method =</span> <span class="st">"spearman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in cor.test.default(log10(daten$Einwohner + 1), daten$Körpergewicht, :
Cannot compute exact p-value with ties</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Spearman's rank correlation rho

data:  log10(daten$Einwohner + 1) and daten$Körpergewicht
S = 87943, p-value = 0.5376
alternative hypothesis: true rho is not equal to 0
sample estimates:
        rho 
-0.07039005 </code></pre>
</div>
</div>
</section>
</section>
<section id="woche-3---hypothesentests" class="level1">
<h1>Woche 3 - Hypothesentests</h1>
<section id="tests-kategorisch-kategorisch" class="level2">
<h2 class="anchored" data-anchor-id="tests-kategorisch-kategorisch">Tests Kategorisch + kategorisch</h2>
<section id="vegetarier-und-verkehrsmittel" class="level3">
<h3 class="anchored" data-anchor-id="vegetarier-und-verkehrsmittel">Vegetarier und Verkehrsmittel</h3>
<p><strong>Frage:</strong> Gibt es einen signifikanten Unterschied zwischen den Verhältnissen von Vegetarier zu nicht-Vegetarier in ihrer Wahl der Verkehrsmittel?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Vegetarier, daten<span class="sc">$</span>Verkehrsmittel)</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      
       Auto Bus Fahrad Zu Fuß
  Ja      4  14      8      7
  Nein    9  17     10     10</code></pre>
</div>
</div>
<p>Visualisierung via boxplot/barplot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x, <span class="at">beside =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Test:</strong> prop.test</p>
<p><strong>H0:</strong> Gleiche Verhältnisse (Veg/Non-Veg) in mehreren Gruppen (Verkehrsmittel).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.test</span>(<span class="fu">t</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    4-sample test for equality of proportions without continuity correction

data:  t(x)
X-squared = 0.84878, df = 3, p-value = 0.8378
alternative hypothesis: two.sided
sample estimates:
   prop 1    prop 2    prop 3    prop 4 
0.3076923 0.4516129 0.4444444 0.4117647 </code></pre>
</div>
</div>
</section>
<section id="geschlecht-und-vegetarier" class="level3">
<h3 class="anchored" data-anchor-id="geschlecht-und-vegetarier">Geschlecht und Vegetarier</h3>
<p><strong>Frage:</strong> Gibt es einen signifikanten Unterschied zwischen den Verhältnissen von Vegetarier zu nicht-Vegetarier in Abhaengigkeit des Geschlechtes?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">table</span>(daten<span class="sc">$</span>Geschlecht, daten<span class="sc">$</span>Vegetarier)</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          
           Ja Nein
  Männlich 11   20
  Weiblich 22   26</code></pre>
</div>
</div>
<p>Visualisierung via boxplot/barplot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(x, <span class="at">beside =</span> T, <span class="at">las =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Test:</strong> prop.test</p>
<p><strong>H0:</strong> Gleiche Verhältnisse (Veg/Non-Veg) in mehreren Gruppen (Geschlecht-W, Geschlecht-M).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.test</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    2-sample test for equality of proportions with continuity correction

data:  x
X-squared = 0.45853, df = 1, p-value = 0.4983
alternative hypothesis: two.sided
95 percent confidence interval:
 -0.3496695  0.1426803
sample estimates:
   prop 1    prop 2 
0.3548387 0.4583333 </code></pre>
</div>
</div>
</section>
</section>
<section id="test-kategorisch-numerisch" class="level2">
<h2 class="anchored" data-anchor-id="test-kategorisch-numerisch">Test Kategorisch + Numerisch</h2>
<section id="körpergröße-geschlecht" class="level3">
<h3 class="anchored" data-anchor-id="körpergröße-geschlecht">Körpergröße ~ Geschlecht</h3>
<p><strong>Frage:</strong> Gibt es einen signifikanten Unterschied in der Körpergröße in Abhängigkeit des Geschlechtes?</p>
<p>Visualisierung via boxplot</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Körpergröße <span class="sc">~</span> Geschlecht, <span class="at">data =</span> daten, <span class="at">col =</span> <span class="st">"lightgrey"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wir können von einem normalen Boxplot nicht ablesen, ob der Unterschied signifikant ist! Wieso? Es fehlen essenzielle Informationen wie die Menge an Daten, die den Standardfehler des Mittelwerts beinflussen! Ein Notch Plot wäre hier schon besser, aber das letzte Wort hat ein formaler Test.</p>
</div>
</div>
<p><strong>Test:</strong> t-Test</p>
<p>Bevor wir den t-Test jedoch anwenden können, müssen wir erst prüfen ob die Normalverteilungsannahme der Körpergrößen in den zwei Geschlechtskategorieren erfüllt ist.</p>
<section id="shapiro-wilk-test" class="level4">
<h4 class="anchored" data-anchor-id="shapiro-wilk-test">Shapiro-Wilk test</h4>
<p>Shapiro-Wilk testet auf Normalverteilung, d.h. die <strong>H0 ist dass die Daten normalverteilt sind.</strong> Ist der shapiro test signifikant, lehnen wir die H0 ab und akzeptieren die alternativ Hypothese dass die Daten nicht normalverteilt sind:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(daten<span class="sc">$</span>Körpergröße[daten<span class="sc">$</span>Geschlecht <span class="sc">==</span> <span class="st">"Weiblich"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  daten$Körpergröße[daten$Geschlecht == "Weiblich"]
W = 0.92861, p-value = 0.006064</code></pre>
</div>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(daten<span class="sc">$</span>Körpergröße[daten<span class="sc">$</span>Geschlecht <span class="sc">==</span> <span class="st">"Männlich"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  daten$Körpergröße[daten$Geschlecht == "Männlich"]
W = 0.9797, p-value = 0.8043</code></pre>
</div>
</div>
<p>Falls einer der p-Werte &lt; 0.05 so haben wir Evidenz gegen eine Normalverteilung und sollten statt des t-tests den Mann-Whitney U Test nehmen</p>
</section>
<section id="t-test-und-mann-whitney-u-test" class="level4">
<h4 class="anchored" data-anchor-id="t-test-und-mann-whitney-u-test">T-test und Mann-Whitney U Test</h4>
<p><strong>H0:</strong> Kein Unterschied in den Mittelwerten, d.h. gleiche Körpergrößen</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>?t.test</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(Körpergröße <span class="sc">~</span> Geschlecht, <span class="at">data =</span> daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  Körpergröße by Geschlecht
t = 7.6929, df = 68.79, p-value = 7.409e-11
alternative hypothesis: true difference in means between group Männlich and group Weiblich is not equal to 0
95 percent confidence interval:
  9.334961 15.872029
sample estimates:
mean in group Männlich mean in group Weiblich 
              180.6452               168.0417 </code></pre>
</div>
</div>
<p>Etwas verwirrend wird der Mann-Whitney U Test mit der R Funktion “wilcox.test” aufgerufen</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wilcox.test</span>(Körpergröße <span class="sc">~</span> Geschlecht, <span class="at">data =</span> daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wilcox.test.default(x = DATA[[1L]], y = DATA[[2L]], ...): cannot
compute exact p-value with ties</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Wilcoxon rank sum test with continuity correction

data:  Körpergröße by Geschlecht
W = 1338.5, p-value = 2.324e-09
alternative hypothesis: true location shift is not equal to 0</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Nur weil ein Effekt nicht signifikant ist, heißt das nicht, dass es keinen Effekt gibt! Denken Sie an die Vorlesung! Das heißt es wäre falsch etwas wie “es gibt keinen Unterschied zwischen männlichen und weiblichen Studierenden zu schreiben”, schreiben Sie einfach “der Unterschied ist statistisch nicht signifikant”.</p>
</div>
</div>
</section>
</section>
<section id="körpergröße-händigkeit" class="level3">
<h3 class="anchored" data-anchor-id="körpergröße-händigkeit">Körpergröße ~ Händigkeit</h3>
<p><strong>Frage:</strong> Gibt es einen signifikanten Unterschied in der Körpergröße in Abhaengigkeit der Händigkeit?</p>
<p>Zur Abwechslung mache ich diesmal eine andere Visualisierung der Daten: ein Notchplot mit einem Beehive Plot überlagert. Der Vorteil dieser Visualisierung ist, dass man die Einfachheit des Boxplots hat, aber auch jeden einzelnen Datenpunkt sehen kann.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Hier verwende ich den Befehl <code>library(beeswarm)</code>. Mit `library(‘Name-der-library’) können wir zusätzliche Funktionen laden (ähnlich wie wenn sie in einem Betriebssystem eine zusätzliche Software öffnen und verwenden).</p>
</div>
</div>
<p>Visualisierung:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(beeswarm)</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Körpergröße <span class="sc">~</span> Händigkeit, <span class="at">data =</span> daten, <span class="at">notch =</span> T, <span class="at">col =</span> <span class="st">"lightgrey"</span>)</span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a><span class="fu">beeswarm</span>(Körpergröße <span class="sc">~</span> Händigkeit, <span class="at">data =</span> daten, <span class="at">add =</span> T, <span class="at">pwcol =</span> daten<span class="sc">$</span>Geschlecht)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>H0:</strong> Kein Unterschied.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(Körpergröße <span class="sc">~</span> Händigkeit, <span class="at">data =</span> daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  Körpergröße by Händigkeit
t = -0.66666, df = 10.003, p-value = 0.5201
alternative hypothesis: true difference in means between group Linkshänder and group Rechtshänder is not equal to 0
95 percent confidence interval:
 -13.359941   7.206317
sample estimates:
 mean in group Linkshänder mean in group Rechtshänder 
                  170.3000                   173.3768 </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Der p-Wert könnte kleiner werden, wenn man einseitig testet. Dies sollte man aber nur a priori und nicht auf Grundlage der Plots machen, weil letzteres verdecktes multiples Testen ist.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(Körpergröße <span class="sc">~</span> Händigkeit, <span class="at">data =</span> daten, <span class="at">alternative =</span> <span class="st">"less"</span>) <span class="co"># linksseitig</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  Körpergröße by Händigkeit
t = -0.66666, df = 10.003, p-value = 0.26
alternative hypothesis: true difference in means between group Linkshänder and group Rechtshänder is less than 0
95 percent confidence interval:
     -Inf 5.287992
sample estimates:
 mean in group Linkshänder mean in group Rechtshänder 
                  170.3000                   173.3768 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(Körpergröße <span class="sc">~</span> Händigkeit, <span class="at">data =</span> daten, <span class="at">alternative =</span> <span class="st">"greater"</span>) <span class="co"># rechtsseitig</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  Körpergröße by Händigkeit
t = -0.66666, df = 10.003, p-value = 0.74
alternative hypothesis: true difference in means between group Linkshänder and group Rechtshänder is greater than 0
95 percent confidence interval:
 -11.44162       Inf
sample estimates:
 mean in group Linkshänder mean in group Rechtshänder 
                  170.3000                   173.3768 </code></pre>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="test-numerischnumerisch" class="level2">
<h2 class="anchored" data-anchor-id="test-numerischnumerisch">Test Numerisch+Numerisch</h2>
<section id="körpergröße-einwohner" class="level3">
<h3 class="anchored" data-anchor-id="körpergröße-einwohner">Körpergröße ~ Einwohner</h3>
<p>Visualisierung via scatterplot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Körpergröße <span class="sc">~</span> Einwohner, <span class="at">data =</span>daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Berechnen wir den Pearson Korrelationsfaktor:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(daten<span class="sc">$</span>Einwohner, daten<span class="sc">$</span>Körpergröße, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.04815529</code></pre>
</div>
</div>
<p>Schwache Korrelation, ist sie signifikant? Wir können die <code>cor.test</code> hernehmen um einen Korrelationstest zu berechnen (H0: Korrelation = 0):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(daten<span class="sc">$</span>Einwohner, daten<span class="sc">$</span>Körpergröße, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  daten$Einwohner and daten$Körpergröße
t = 0.42305, df = 77, p-value = 0.6734
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 -0.1748165  0.2664289
sample estimates:
       cor 
0.04815529 </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ein kleiner Ausblick auf die kommenden Wochen: wir koennen die sogenannte lineare Regression ( <span class="math inline">\(y = mx + t\)</span> ) dazu nutzen um die Assoziation von Koerpergrosse ~ Einwohner durch eine Gerade darzustellen. D.h. in der linearen Regression werden die zwei Parameter <span class="math inline">\(m\)</span> (Steigung) und <span class="math inline">\(t\)</span> (Achsenabschnitt) geschätzt:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergröße <span class="sc">~</span> Einwohner, <span class="at">data =</span>daten)</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Körpergröße <span class="sc">~</span> Einwohner, <span class="at">data =</span>daten)</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(fit, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="statistische-power" class="level2">
<h2 class="anchored" data-anchor-id="statistische-power">Statistische power</h2>
<p>Die Power wird zum Beispiel von der Standardabweichung / Varianz der Daten beeinflusst:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(daten<span class="sc">$</span>Körpergröße)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9.514488</code></pre>
</div>
</div>
<p>nehme vereinfacht an, dass 4 Beobachten je Gruppe gab. Ungleiche Gruppen hat die Funktion leider nicht. Wie viel n bräuchten wir bei der gegeben Streuung, um für einen Effekt von delta = 2 eine Power von 80% zu erreichen?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">power.t.test</span>(<span class="at">delta =</span> <span class="dv">2</span>, <span class="at">sd =</span> <span class="dv">8</span>, <span class="at">power =</span> <span class="fl">0.8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
     Two-sample t test power calculation 

              n = 252.1281
          delta = 2
             sd = 8
      sig.level = 0.05
          power = 0.8
    alternative = two.sided

NOTE: n is number in *each* group</code></pre>
</div>
</div>
<p>delta = wahre Unterschied der Gruppen</p>
</section>
<section id="hypothesentest-selbst-gebaut" class="level2">
<h2 class="anchored" data-anchor-id="hypothesentest-selbst-gebaut">Hypothesentest selbst gebaut</h2>
<p>Die Tests bis jetzt haben alle eine mathematische Funktion benutzt, um dem p-Wert auszurechnen. Wenn es eine solche Funktion gibt ist dies normalerweise vorteilhaft weil schneller.</p>
<p>Wir können uns aber auch ganz einfach ohne Mathematik einen sogenannten nichtparametrischen Test selbst programmieren. Die Idee hier ist: wir randomisieren einfach die Daten viele Male und rechnen jeweils die Teststatistik aus. Hierdurch erhalten wir die Nullverteilung, aus der wir dann den p-Wert berechnen können. Hier am Beispiel der Korrelation</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">=</span> daten<span class="sc">$</span>Körpergröße</span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">=</span> daten<span class="sc">$</span>Körpergewicht</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>getNullValue <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a>  x1Random <span class="ot">=</span> <span class="fu">sample</span>(x1, <span class="at">size =</span> <span class="fu">length</span>(x1))</span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a>  x2Random <span class="ot">=</span> <span class="fu">sample</span>(x2, <span class="at">size =</span> <span class="fu">length</span>(x2))</span>
<span id="cb163-7"><a href="#cb163-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">cor</span>(x1Random, x2Random))</span>
<span id="cb163-8"><a href="#cb163-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb163-9"><a href="#cb163-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-10"><a href="#cb163-10" aria-hidden="true" tabindex="-1"></a><span class="fu">getNullValue</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1842054</code></pre>
</div>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>nullDistribution <span class="ot">=</span> <span class="fu">replicate</span>(<span class="dv">10000</span>, <span class="fu">getNullValue</span>())</span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(nullDistribution)</span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a>obsCor <span class="ot">=</span> <span class="fu">cor</span>(x1, x2)</span>
<span id="cb165-6"><a href="#cb165-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-7"><a href="#cb165-7" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> obsCor, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co"># linksseitig</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(nullDistribution <span class="sc">&lt;=</span> obsCor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9985</code></pre>
</div>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(nullDistribution <span class="sc">&gt;=</span> obsCor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0015</code></pre>
</div>
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fl">0.0031</span> <span class="sc">*</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0062</code></pre>
</div>
</div>
<p>Das Ergebnis ist praktisch identisch mit cor.test</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(x1,x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  x1 and x2
t = 3.0474, df = 77, p-value = 0.003162
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.1153159 0.5120304
sample estimates:
      cor 
0.3280615 </code></pre>
</div>
</div>
</section>
</section>
<section id="woche-4---mle-und-regression" class="level1">
<h1>Woche 4 - MLE und Regression</h1>
<section id="num-num-1" class="level2">
<h2 class="anchored" data-anchor-id="num-num-1">num + num</h2>
<section id="körpergewicht-körpergröße" class="level3">
<h3 class="anchored" data-anchor-id="körpergewicht-körpergröße">Körpergewicht ~ Körpergröße</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(daten<span class="sc">$</span>Körpergröße, daten<span class="sc">$</span>Körpergewicht)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(daten<span class="sc">$</span>Körpergewicht, daten<span class="sc">$</span>Körpergröße, </span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">use =</span> <span class="st">"complete.obs"</span>, <span class="at">method =</span> <span class="st">"spearman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in cor.test.default(daten$Körpergewicht, daten$Körpergröße, : Cannot
compute exact p-value with ties</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Spearman's rank correlation rho

data:  daten$Körpergewicht and daten$Körpergröße
S = 35207, p-value = 3.789e-08
alternative hypothesis: true rho is not equal to 0
sample estimates:
      rho 
0.5714766 </code></pre>
</div>
</div>
<p>Lineare Regression</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergewicht <span class="sc">~</span> Körpergröße, <span class="at">data =</span> daten)</span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Körpergewicht ~ Körpergröße, data = daten)

Residuals:
    Min      1Q  Median      3Q     Max 
-16.585  -7.570  -1.526   4.848  66.428 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)   
(Intercept)  -7.0172    24.6038  -0.285  0.77625   
Körpergröße   0.4328     0.1420   3.047  0.00316 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 11.93 on 77 degrees of freedom
Multiple R-squared:  0.1076,    Adjusted R-squared:  0.09604 
F-statistic: 9.287 on 1 and 77 DF,  p-value: 0.003162</code></pre>
</div>
</div>
<p>Visualisierung</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(daten<span class="sc">$</span>Körpergröße, daten<span class="sc">$</span>Körpergewicht)</span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(fit, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>alternative Visualisierung</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(effects)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: carData</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>lattice theme set by effectsTheme()
See ?effectsTheme for details.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">allEffects</span>(fit, <span class="at">partial.residuals =</span> T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="körpergewicht-einwohner" class="level3">
<h3 class="anchored" data-anchor-id="körpergewicht-einwohner">Körpergewicht ~ Einwohner</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(daten<span class="sc">$</span>Einwohner, daten<span class="sc">$</span>Körpergewicht)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergewicht <span class="sc">~</span> Einwohner, <span class="at">data =</span> daten)</span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Körpergewicht ~ Einwohner, data = daten)

Residuals:
    Min      1Q  Median      3Q     Max 
-19.602  -7.638  -2.581   6.319  52.420 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 6.758e+01  1.535e+00   44.04   &lt;2e-16 ***
Einwohner   1.452e-06  3.156e-06    0.46    0.647    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 12.62 on 77 degrees of freedom
Multiple R-squared:  0.002742,  Adjusted R-squared:  -0.01021 
F-statistic: 0.2117 on 1 and 77 DF,  p-value: 0.6468</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(effects)</span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">allEffects</span>(fit, <span class="at">partial.residuals =</span> T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="num-kat" class="level2">
<h2 class="anchored" data-anchor-id="num-kat">num + kat</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Körpergewicht <span class="sc">~</span> Geschlecht, <span class="at">data =</span> daten, <span class="at">notch =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergewicht <span class="sc">~</span> Geschlecht, <span class="at">data =</span> daten)</span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Körpergewicht ~ Geschlecht, data = daten)

Residuals:
    Min      1Q  Median      3Q     Max 
-20.581  -5.863  -1.146   5.854  55.854 

Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)          73.581      2.108  34.898  &lt; 2e-16 ***
GeschlechtWeiblich   -9.435      2.705  -3.488 0.000808 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 11.74 on 77 degrees of freedom
Multiple R-squared:  0.1364,    Adjusted R-squared:  0.1252 
F-statistic: 12.17 on 1 and 77 DF,  p-value: 0.0008077</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(effects)</span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">allEffects</span>(fit, <span class="at">partial.residuals =</span> T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Körpergewicht <span class="sc">~</span> Verkehrsmittel, <span class="at">data =</span> daten, <span class="at">notch =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in (function (z, notch = FALSE, width = NULL, varwidth = FALSE, : some
notches went outside hinges ('box'): maybe set notch=FALSE</code></pre>
</div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergewicht <span class="sc">~</span> Verkehrsmittel, <span class="at">data =</span> daten)</span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Körpergewicht ~ Verkehrsmittel, data = daten)

Residuals:
    Min      1Q  Median      3Q     Max 
-19.824  -6.850  -2.645   6.385  52.176 

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)            76.615      3.353  22.852   &lt;2e-16 ***
VerkehrsmittelBus     -11.970      3.994  -2.997   0.0037 ** 
VerkehrsmittelFahrad   -9.560      4.400  -2.173   0.0330 *  
VerkehrsmittelZu Fuß   -8.792      4.454  -1.974   0.0521 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 12.09 on 75 degrees of freedom
Multiple R-squared:  0.1081,    Adjusted R-squared:  0.07244 
F-statistic: 3.031 on 3 and 75 DF,  p-value: 0.03451</code></pre>
</div>
</div>
<p>ANOVA</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">aov</span>(fit))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Df Sum Sq Mean Sq F value Pr(&gt;F)  
Verkehrsmittel  3   1329   442.9   3.031 0.0345 *
Residuals      75  10960   146.1                 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
</section>
<section id="woche-5---multiple-regression" class="level1">
<h1>Woche 5 - Multiple Regression</h1>
<section id="dienstag" class="level2">
<h2 class="anchored" data-anchor-id="dienstag">Dienstag</h2>
<p>Beispiel multiple Regression</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Ozone <span class="sc">~</span> Temp <span class="sc">+</span> Wind, <span class="at">data =</span> airquality)</span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Ozone ~ Temp + Wind, data = airquality)

Residuals:
    Min      1Q  Median      3Q     Max 
-41.251 -13.695  -2.856  11.390 100.367 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -71.0332    23.5780  -3.013   0.0032 ** 
Temp          1.8402     0.2500   7.362 3.15e-11 ***
Wind         -3.0555     0.6633  -4.607 1.08e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 21.85 on 113 degrees of freedom
  (37 observations deleted due to missingness)
Multiple R-squared:  0.5687,    Adjusted R-squared:  0.5611 
F-statistic:  74.5 on 2 and 113 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Vergleich einfache Regression</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Ozone <span class="sc">~</span> Temp , <span class="at">data =</span> airquality)</span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Ozone ~ Temp, data = airquality)

Residuals:
    Min      1Q  Median      3Q     Max 
-40.729 -17.409  -0.587  11.306 118.271 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -146.9955    18.2872  -8.038 9.37e-13 ***
Temp           2.4287     0.2331  10.418  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 23.71 on 114 degrees of freedom
  (37 observations deleted due to missingness)
Multiple R-squared:  0.4877,    Adjusted R-squared:  0.4832 
F-statistic: 108.5 on 1 and 114 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Die Unterschiede in den Effektschätzern entstehen durch die Kollinearität zwischen Wind und Temperatur</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Temp <span class="sc">~</span> Wind, <span class="at">data =</span> airquality)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="donnerstag" class="level2">
<h2 class="anchored" data-anchor-id="donnerstag">Donnerstag</h2>
<section id="beispiel-lrt" class="level3">
<h3 class="anchored" data-anchor-id="beispiel-lrt">Beispiel LRT</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a>ratios <span class="ot">=</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="dv">1000</span>)</span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>){</span>
<span id="cb204-3"><a href="#cb204-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># erzeuge Daten ohne Abhängigkeit</span></span>
<span id="cb204-4"><a href="#cb204-4" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb204-5"><a href="#cb204-5" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb204-6"><a href="#cb204-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># vergleiche Log Likelihood M1 = y ~ x , M0 = y ~ 1</span></span>
<span id="cb204-7"><a href="#cb204-7" aria-hidden="true" tabindex="-1"></a>  ratios[i] <span class="ot">=</span> <span class="fu">logLik</span>(<span class="fu">lm</span>(y <span class="sc">~</span> x))  <span class="sc">-</span> <span class="fu">logLik</span>(<span class="fu">lm</span>(y <span class="sc">~</span> <span class="dv">1</span>))</span>
<span id="cb204-8"><a href="#cb204-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb204-9"><a href="#cb204-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-10"><a href="#cb204-10" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(ratios, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="analyse-ihrer-daten" class="level3">
<h3 class="anchored" data-anchor-id="analyse-ihrer-daten">Analyse Ihrer Daten</h3>
</section>
<section id="körpergewicht-vegetarier" class="level3">
<h3 class="anchored" data-anchor-id="körpergewicht-vegetarier">Körpergewicht ~ Vegetarier</h3>
<p>Einfache Regression</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Körpergewicht <span class="sc">~</span> Vegetarier, <span class="at">data =</span>daten, <span class="at">col =</span> <span class="st">"lightgrey"</span>, <span class="at">notch =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergewicht <span class="sc">~</span> Vegetarier, <span class="at">data =</span>daten)</span>
<span id="cb206-2"><a href="#cb206-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Körpergewicht ~ Vegetarier, data = daten)

Residuals:
    Min      1Q  Median      3Q     Max 
-19.870  -7.870  -2.818   7.130  52.130 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    67.81818    2.19908  30.839   &lt;2e-16 ***
VegetarierNein  0.05138    2.88187   0.018    0.986    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 12.63 on 77 degrees of freedom
Multiple R-squared:  4.129e-06, Adjusted R-squared:  -0.01298 
F-statistic: 0.0003179 on 1 and 77 DF,  p-value: 0.9858</code></pre>
</div>
</div>
<p>Könnte Scheinkorrelation sein wegen Vegetarier ~ Geschlecht, deshalb multiple Regression</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergewicht <span class="sc">~</span> Vegetarier <span class="sc">+</span> Geschlecht, <span class="at">data =</span>daten)</span>
<span id="cb208-2"><a href="#cb208-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Körpergewicht ~ Vegetarier + Geschlecht, data = daten)

Residuals:
    Min      1Q  Median      3Q     Max 
-21.171  -5.684  -1.256   5.816  56.274 

Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         74.1712     2.7476  26.995  &lt; 2e-16 ***
VegetarierNein      -0.9154     2.7079  -0.338 0.736260    
GeschlechtWeiblich  -9.5295     2.7350  -3.484 0.000822 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 11.81 on 76 degrees of freedom
Multiple R-squared:  0.1377,    Adjusted R-squared:  0.115 
F-statistic:  6.07 on 2 and 76 DF,  p-value: 0.003583</code></pre>
</div>
</div>
</section>
<section id="körpergewicht-verkehrsmittel" class="level3">
<h3 class="anchored" data-anchor-id="körpergewicht-verkehrsmittel">Körpergewicht ~ Verkehrsmittel</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Körpergewicht <span class="sc">~</span> Verkehrsmittel, <span class="at">data =</span>daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Code-Vorlesung_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergewicht <span class="sc">~</span> Verkehrsmittel, <span class="at">data =</span>daten)</span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Körpergewicht ~ Verkehrsmittel, data = daten)

Residuals:
    Min      1Q  Median      3Q     Max 
-19.824  -6.850  -2.645   6.385  52.176 

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)            76.615      3.353  22.852   &lt;2e-16 ***
VerkehrsmittelBus     -11.970      3.994  -2.997   0.0037 ** 
VerkehrsmittelFahrad   -9.560      4.400  -2.173   0.0330 *  
VerkehrsmittelZu Fuß   -8.792      4.454  -1.974   0.0521 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 12.09 on 75 degrees of freedom
Multiple R-squared:  0.1081,    Adjusted R-squared:  0.07244 
F-statistic: 3.031 on 3 and 75 DF,  p-value: 0.03451</code></pre>
</div>
</div>
<p>Auch hier haben wir nach Diskussion in der Klasse überlegt, ob dies eine Scheinkorrelation sein könnte, wegen Verkehrsmittel ~ Geschlecht, ev. Distanz.</p>
<p>Multiple Regression und Kreuztabelle bestätigt das</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergewicht <span class="sc">~</span> Verkehrsmittel <span class="sc">+</span> Geschlecht <span class="sc">+</span> Distanz, <span class="at">data =</span>daten)</span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Körpergewicht ~ Verkehrsmittel + Geschlecht + Distanz, 
    data = daten)

Residuals:
    Min      1Q  Median      3Q     Max 
-31.439  -6.986   0.111   4.654  34.398 

Coefficients:
                       Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)           8.002e+01  2.957e+00  27.064  &lt; 2e-16 ***
VerkehrsmittelBus    -1.030e+01  3.407e+00  -3.023 0.003456 ** 
VerkehrsmittelFahrad -6.994e+00  3.749e+00  -1.865 0.066133 .  
VerkehrsmittelZu Fuß -9.344e+00  3.829e+00  -2.441 0.017093 *  
GeschlechtWeiblich   -9.403e+00  2.399e+00  -3.920 0.000198 ***
Distanz               2.496e-03  5.325e-04   4.688 1.25e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 10.13 on 73 degrees of freedom
Multiple R-squared:  0.3901,    Adjusted R-squared:  0.3483 
F-statistic: 9.338 on 5 and 73 DF,  p-value: 6.567e-07</code></pre>
</div>
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(daten<span class="sc">$</span>Geschlecht, daten<span class="sc">$</span>Verkehrsmittel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          
           Auto Bus Fahrad Zu Fuß
  Männlich    8  11      6      6
  Weiblich    5  20     12     11</code></pre>
</div>
</div>
<p>Final noch ein Beispiel für die Modellselektion - Geschlecht wird selektiert, eine zufällige Variable nicht.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a>daten<span class="sc">$</span>random <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="fu">nrow</span>(daten))</span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-3"><a href="#cb217-3" aria-hidden="true" tabindex="-1"></a>M0 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergewicht <span class="sc">~</span> Verkehrsmittel, <span class="at">data =</span>daten)</span>
<span id="cb217-4"><a href="#cb217-4" aria-hidden="true" tabindex="-1"></a>M1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergewicht <span class="sc">~</span> Verkehrsmittel <span class="sc">+</span> Geschlecht , <span class="at">data =</span>daten)</span>
<span id="cb217-5"><a href="#cb217-5" aria-hidden="true" tabindex="-1"></a>M2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Körpergewicht <span class="sc">~</span> Verkehrsmittel <span class="sc">+</span> random , <span class="at">data =</span>daten)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Selektion der Modelle über LRTs / ANOVA</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">aov</span>(M2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Df Sum Sq Mean Sq F value Pr(&gt;F)  
Verkehrsmittel  3   1329   442.9   3.191 0.0285 *
random          1    691   691.1   4.980 0.0287 *
Residuals      74  10269   138.8                 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Selektion der Modelle über AIC</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(M0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 623.8615</code></pre>
</div>
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(M1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 616.6332</code></pre>
</div>
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(M2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 620.7161</code></pre>
</div>
</div>
<p># Woche 6 - GLM</p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>